{% extends 'simpleblog/layout.html' %}

{% load i18n %}
{% load static from staticfiles %}

{% block twitter_account %}{{ twitter_account }}{% endblock twitter_account %}
{% block twitter_title %}{{ entry.seo_title }}{% endblock twitter_title %}
{% block twitter_description %}{{ entry.seo_description }}{% endblock twitter_description %}
{% block twitter_image %}http://{{ site.domain }}{{ entry.image.url }}{% endblock twitter_image %}

{% block og_title %}{{ entry.seo_title }}{% endblock og_title %}
{% block og_url %}http://{{ site.domain }}{{ entry.get_absolute_url }}{% endblock og_url %}
{% block og_image %}http://{{ site.domain }}{{ entry.image.url }}{% endblock og_image %}
{% block og_description %}{{ entry.seo_description }}{% endblock og_description %}
{% block og_site %}{{ facebook_site_name }}{% endblock og_site %}

{% block meta_title %}{{ entry.seo_title }}{% endblock meta_title %}
{% block meta_description %}{{ entry.seo_description }}{% endblock meta_description %}
{% block meta_author %}{{ meta_author }}{% endblock meta_author %}

{% block extra_head %}{{ block.super}}{% include "simpleblog/facebook_admins.html" %}{% endblock extra_head %}

 {% block main_content %}

<article itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting" class="blog-entry blog-entry--detail">
  <meta name="publisher" itemprop="publisher" content="{{ meta_author }}">
  <header>
    <h1 itemprop="headline">{{ entry.title }}</h1>
    <ul class="blog-entry__info">
      <li class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">{% trans "By" %} <a itemprop="url" href="{% url 'blog_author_view' entry.author.id %}"><span itemprop="name">{% if entry.author.get_full_name %}
        {{entry.author.get_full_name}}
      {% else %}
        {{entry.author.first_name}} {{entry.author.last_name}}
      {% endif %}</span></a></li>
      <li class="separator">•</li>
      <li class="pubdate"><time itemprop="datePublished" datetime="{{ entry.publication_date|date:"c" }}">{{ entry.publication_date|date:"DATE_FORMAT" }}</time></li>
      <li class="separator">•</li>
      <li class="category" itemprop="articleSection">{% trans "Category" %}: <a href="{{ entry.category.get_absolute_url }}">{{ entry.category.name }}</a></li>
    </ul>
  </header>
  <section class="blog-entry__image" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
    <img itemprop="url" src="{{ entry.image.url }}" alt="{{ entry.title }}"/>
  </section>
  <p itemprop="name" class="blog-entry__intro">
    {{ entry.intro }}
  </p>
  <section itemprop="articleBody" class="blog-entry__content">
    {{ entry.content|safe }}
  </section>
  <footer class="blog-entry__sharing">
    {% include "simpleblog/sharing.html" %}
  </footer>
</article>
<section class="blog-entry__comments">
  {% include "simpleblog/facebook_comments.html" %}
</section>
{% endblock main_content %}
